<template id="stat-block">
  <p>foobar</p>
</template>

<script>
(function(window, document) {
  // Refers to the "importer", which is index.html
  var thatDoc = document;

  // Refers to the "importee", which is src/hello-world.html
  var thisDoc =  (thatDoc.currentScript || thatDoc._currentScript).ownerDocument;

  var template = thisDoc.getElementById('stat-block').content;
  var StatBlockProto = Object.create(HTMLElement.prototype);

  StatBlockProto.createdCallback = function() {
    var shadowRoot = this.createShadowRoot();

    var clone = thatDoc.importNode(template, true);
    shadowRoot.appendChild(clone);
  };

  window.StatBlock = thatDoc.registerElement('stat-block', {
    prototype: StatBlockProto
  });
})(window, document);
</script>
